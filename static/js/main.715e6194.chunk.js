(this["webpackJsonptest-news-portal"]=this["webpackJsonptest-news-portal"]||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(7),r=n.n(c),s=n(3),i=n(0),l=function(e){var t=e.item,n=new Date(t.created_at),a=n.toLocaleDateString("ru",{day:"numeric",month:"long",year:"numeric"}),c=n.toLocaleTimeString("ru",{hour:"numeric",minute:"numeric"});return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("hr",{}),Object(i.jsxs)("div",{className:"hor-padding",children:[Object(i.jsx)("p",{children:"".concat(a," ").concat(c)}),Object(i.jsx)("h3",{children:t.title}),Object(i.jsx)("p",{children:t.description}),Object(i.jsx)("p",{children:""==t.author.name&&""==t.author.lastname?"\u0410\u043d\u043e\u043d\u0438\u043c\u043d\u044b\u0439 \u0430\u0432\u0442\u043e\u0440":"\u0410\u0432\u0442\u043e\u0440: ".concat(t.author.name," ").concat(t.author.lastname)})]})]})},o=Object(s.b)((function(e){return{news:e.news}}),null)((function(e){var t=e.news;return Object(i.jsxs)("div",{className:"page__news-wrapper",children:[0===t.length?Object(i.jsx)("h2",{className:"hor-padding",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u043d\u0435\u0442"}):Object(i.jsxs)("h2",{className:"hor-padding",children:["".concat(t.length)," ",t.length%10===1&&11!==t.length?"\u043d\u043e\u0432\u043e\u0441\u0442\u044c":t.length%10<5&&t.length%10!==0?t.length>10&&t.length<15?"\u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439":"\u043d\u043e\u0432\u043e\u0441\u0442\u0438":"\u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439"]}),Object(i.jsx)("div",{className:"page__news",children:t.map((function(e){return Object(i.jsx)(l,{item:e},e.id)}))})]})})),j=function(){return Object(i.jsx)("div",{className:"page__loading-spinner"})},u="news/setNews",d="news/setLoading",h="news/setUserNews",b=n(5),p=n(2),O=n(16),m=Object(s.b)(null,(function(e){return{setUserNews:function(t){return e({type:h,payload:t})}}}))((function(e){var t=e.setUserNews,n=Object(a.useRef)(),c=Object(a.useState)({id:null,title:"",description:"",created_at:null,author:{name:"",lastname:""}}),r=Object(O.a)(c,2),s=r[0],l=r[1],o=function(e){var t=e.target,n=t.name,a=t.value;l(Object(p.a)(Object(p.a)({},s),{},Object(b.a)({},n,a)))},j=function(e){var t=e.target,n=t.name,a=t.value;l(Object(p.a)(Object(p.a)({},s),{},{author:Object(p.a)(Object(p.a)({},s.author),{},Object(b.a)({},n,a))}))};return Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(Object(p.a)(Object(p.a)({},s),{},{id:Date.now().toString(36).substr(2,7),created_at:new Date})),console.log(Math.random().toString(36).substr(2,12)),n.current.reset(),l({id:null,title:"",description:"",created_at:null,author:{name:"",lastname:""}})},ref:n,className:"page__form form hor-padding",children:[Object(i.jsx)("h2",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c"}),Object(i.jsxs)("label",{children:[Object(i.jsx)("p",{className:"form__input-text",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u044c"}),Object(i.jsx)("input",{className:"form__input",type:"text",placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",name:"title",value:s.title,onChange:o,required:!0})]}),Object(i.jsx)("textarea",{placeholder:"\u0422\u0435\u043a\u0441\u0442 \u043d\u043e\u0432\u043e\u0441\u0442\u0438",name:"description",value:s.description,onChange:o,required:!0}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("label",{children:[Object(i.jsx)("p",{className:"form__input-text",children:"\u0410\u0432\u0442\u043e\u0440"}),Object(i.jsx)("input",{className:"form__input",type:"text",placeholder:"\u0418\u043c\u044f",name:"name",value:s.author.name,onChange:j})]}),Object(i.jsx)("label",{children:Object(i.jsx)("input",{className:"form__input",type:"text",placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",name:"lastname",value:s.author.lastname,onChange:j})})]}),Object(i.jsx)("button",{className:"form__btn",type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c"})]})})),g=Object(s.b)((function(e){return{loading:e.loading}}),(function(e){return{loadNews:function(t){return e({type:u,payload:t})},setLoading:function(t){return e({type:d,payload:t})}}}))((function(e){var t=e.loadNews,n=e.loading,c=e.setLoading;return Object(a.useEffect)((function(){fetch("https://test-api-app-for-react.herokuapp.com/api/v1/news").then((function(e){return e.json()})).then((function(e){e.data.articles&&t(e.data.articles),c(!1)}))}),[]),Object(i.jsx)("div",{className:"page__content",children:n?Object(i.jsx)(j,{}):Object(i.jsxs)("div",{className:"page__wrapper",children:[Object(i.jsx)(o,{}),Object(i.jsx)(m,{})]})})})),x=function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("header",{className:"page__header header",children:Object(i.jsx)("h1",{className:"header__title",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"})})})};var f=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x,{}),Object(i.jsx)(g,{})]})},_=(n(28),n(15)),w={news:[],loading:!0},v=n(14),N=n(4),y=Object(N.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(p.a)(Object(p.a)({},e),{},{news:t.payload});case d:return Object(p.a)(Object(p.a)({},e),{},{loading:t.payload});case h:return Object(p.a)(Object(p.a)({},e),{},{news:[].concat(Object(_.a)(e.news),[t.payload])});default:return Object(p.a)({},e)}}),Object(v.composeWithDevTools)());r.a.render(Object(i.jsx)(s.a,{store:y,children:Object(i.jsx)(f,{})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.715e6194.chunk.js.map