(this["webpackJsonptest-news-portal"]=this["webpackJsonptest-news-portal"]||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(7),r=n.n(c),s=n(3),i="news/setNews",l="news/setLoading",o="news/setUserNews",j="news/removeUserNews",u=n(0),d=Object(s.b)(null,(function(e){return{removeNewsItem:function(t){return e({type:j,payload:t})}}}))((function(e){var t=e.item,n=e.removeNewsItem,a=new Date(t.created_at),c=a.toLocaleDateString("ru",{day:"numeric",month:"long",year:"numeric"}),r=a.toLocaleTimeString("ru",{hour:"numeric",minute:"numeric"});return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"hor-padding",children:[Object(u.jsx)("p",{children:"".concat(c," ").concat(r)}),Object(u.jsx)("h3",{children:t.title}),Object(u.jsx)("p",{children:t.description}),Object(u.jsx)("p",{children:""===t.author.name&&""===t.author.lastname?"\u0410\u043d\u043e\u043d\u0438\u043c\u043d\u044b\u0439 \u0430\u0432\u0442\u043e\u0440":"\u0410\u0432\u0442\u043e\u0440: ".concat(t.author.name," ").concat(t.author.lastname)}),Object(u.jsx)("button",{className:"form__btn form__btn--del-item",onClick:function(){n(t.id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})})),b=Object(s.b)((function(e){return{news:e.news}}),null)((function(e){var t=e.news;return Object(u.jsxs)("div",{className:"page__news-wrapper",children:[0===t.length?Object(u.jsx)("h2",{className:"hor-padding",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u043d\u0435\u0442"}):Object(u.jsxs)("h2",{className:"hor-padding",children:["".concat(t.length)," ",t.length%10===1&&11!==t.length?"\u043d\u043e\u0432\u043e\u0441\u0442\u044c":t.length%10<5&&t.length%10!==0?t.length>10&&t.length<15?"\u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439":"\u043d\u043e\u0432\u043e\u0441\u0442\u0438":"\u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439"]}),Object(u.jsx)("div",{className:"page__news",children:t.map((function(e){return Object(u.jsx)(d,{item:e},e.id)}))})]})})),h=function(){return Object(u.jsx)("div",{className:"page__loading-spinner"})},p=n(5),m=n(2),O=n(16),f=Object(s.b)(null,(function(e){return{setUserNews:function(t){return e({type:o,payload:t})}}}))((function(e){var t=e.setUserNews,n=Object(a.useState)({id:null,title:"",description:"",created_at:null,author:{name:"",lastname:""}}),c=Object(O.a)(n,2),r=c[0],s=c[1],i=function(e){var t=e.target,n=t.name,a=t.value;s(Object(m.a)(Object(m.a)({},r),{},Object(p.a)({},n,a)))},l=function(e){var t=e.target,n=t.name,a=t.value;s(Object(m.a)(Object(m.a)({},r),{},{author:Object(m.a)(Object(m.a)({},r.author),{},Object(p.a)({},n,a))}))};return Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(Object(m.a)(Object(m.a)({},r),{},{id:Date.now().toString(36).substr(2,7),created_at:new Date})),s({id:null,title:"",description:"",created_at:null,author:{name:"",lastname:""}})},className:"page__form form hor-padding",children:[Object(u.jsx)("h2",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c"}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{className:"form__input-text",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u044c"}),Object(u.jsx)("input",{className:"form__input",type:"text",placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",name:"title",value:r.title,onChange:i,required:!0})]}),Object(u.jsx)("textarea",{placeholder:"\u0422\u0435\u043a\u0441\u0442 \u043d\u043e\u0432\u043e\u0441\u0442\u0438",name:"description",value:r.description,onChange:i,required:!0}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{className:"form__input-text",children:"\u0410\u0432\u0442\u043e\u0440"}),Object(u.jsx)("input",{className:"form__input",type:"text",placeholder:"\u0418\u043c\u044f",name:"name",value:r.author.name,onChange:l})]}),Object(u.jsx)("label",{children:Object(u.jsx)("input",{className:"form__input",type:"text",placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",name:"lastname",value:r.author.lastname,onChange:l})})]}),Object(u.jsx)("button",{className:"form__btn",type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c"})]})})),x=Object(s.b)((function(e){return{loading:e.loading}}),(function(e){return{loadNews:function(t){return e({type:i,payload:t})},setLoading:function(t){return e({type:l,payload:t})}}}))((function(e){var t=e.loadNews,n=e.loading,c=e.setLoading;return Object(a.useEffect)((function(){fetch("https://test-api-app-for-react.herokuapp.com/api/v1/news").then((function(e){return e.json()})).then((function(e){e.data.articles&&t(e.data.articles),c(!1)}))})),Object(u.jsx)("div",{className:"page__content",children:n?Object(u.jsx)(h,{}):Object(u.jsxs)("div",{className:"page__wrapper",children:[Object(u.jsx)(b,{}),Object(u.jsx)(f,{})]})})})),g=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("header",{className:"page__header header",children:Object(u.jsx)("h1",{className:"header__title",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"})})})};var w=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g,{}),Object(u.jsx)(x,{})]})},_=(n(28),n(15)),v={news:[],loading:!0},N=n(14),y=n(4),D=Object(y.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return Object(m.a)(Object(m.a)({},e),{},{news:t.payload});case l:return Object(m.a)(Object(m.a)({},e),{},{loading:t.payload});case o:return Object(m.a)(Object(m.a)({},e),{},{news:[t.payload].concat(Object(_.a)(e.news))});case j:return Object(m.a)(Object(m.a)({},e),{},{news:e.news.splice(0,e.news.findIndex((function(e){return e.id===t.payload}))).concat(e.news.splice(e.news.findIndex((function(e){return e.id===t.payload}))+1,e.news.length-1))});default:return Object(m.a)({},e)}}),Object(N.composeWithDevTools)());r.a.render(Object(u.jsx)(s.a,{store:D,children:Object(u.jsx)(w,{})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.45fa5ae8.chunk.js.map